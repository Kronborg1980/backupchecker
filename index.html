<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kronborg's Ultimate Pok√©mon Checker v2.1</title>
  <style>
    /* Tailwind-like utility classes adapted for TRON theme */
    .bg-black { background-color: #000000; }
    .bg-dark-blue { background-color: #001122; }
    .text-neon-cyan { color: #00ffff; }
    .text-neon-red { color: #ff0040; }
    .text-neon-green { color: #00ff41; }
    .text-white-glow { color: #ffffff; text-shadow: 0 0 5px #00ffff; }
    .text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .font-bold { font-weight: 700; }
    .font-semibold { font-weight: 600; }
    .p-6 { padding: 1.5rem; }
    .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
    .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
    .mt-2 { margin-top: 0.5rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .w-full { width: 100%; }
    .max-w-md { max-width: 28rem; }
    .rounded { border-radius: 0.25rem; }
    .rounded-lg { border-radius: 0.5rem; }
    .shadow-neon { box-shadow: 0 0 20px rgba(0, 255, 255, 0.5), inset 0 0 10px rgba(0, 255, 255, 0.1); }
    .border-neon { border: 1px solid #00ffff; }
    .flex { display: flex; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .min-h-screen { min-height: 100vh; }
    .text-center { text-align: center; }
    .hidden { display: none; }
    
    /* TRON Theme Styles */
    body {
      font-family: 'Orbitron', monospace;
      background: radial-gradient(ellipse at center, #001122 0%, #000011 50%, #000000 100%);
      color: #00ffff;
      position: relative;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: #00ffff #001122;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        linear-gradient(-45deg, rgba(0,255,255,0.05) 25%, transparent 25%),
        linear-gradient(45deg, rgba(0,255,255,0.05) 25%, transparent 25%),
        linear-gradient(-45deg, transparent 75%, rgba(0,255,255,0.05) 75%),
        linear-gradient(45deg, transparent 75%, rgba(0,255,255,0.05) 75%);
      background-size: 20px 20px;
      z-index: -1;
      animation: gridMove 20s linear infinite;
    }
    @keyframes gridMove {
      0% { transform: translate(0, 0); }
      100% { transform: translate(20px, 20px); }
    }
    .tron-card {
      background-color: rgba(0, 0, 0, 0.8);
      border: 2px solid #00ffff;
      border-radius: 15px;
      padding: 1.5rem;
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.3), inset 0 0 20px rgba(0, 255, 255, 0.05);
      position: relative;
      z-index: 20;
      animation: pulseGlow 3s ease-in-out infinite alternate;
    }
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 20px rgba(0, 255, 255, 0.5), inset 0 0 10px rgba(0, 255, 255, 0.1); }
      100% { box-shadow: 0 0 40px rgba(0, 255, 255, 0.8), inset 0 0 20px rgba(0, 255, 255, 0.2); }
    }
    input[type="email"], input[type="url"] {
      border: 2px solid #00ffff;
      background: rgba(0, 0, 0, 0.6);
      color: #00ffff;
      padding: 0.6rem 1rem;
      border-radius: 5px;
      transition: all 0.3s ease;
    }
    input[type="email"]:focus, input[type="url"]:focus {
      border-color: #33ffff;
      outline: none;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
    }
    input[readonly] {
      background-color: rgba(0, 17, 34, 0.8);
      cursor: not-allowed;
      color: #66ffff;
    }
    button {
      font-weight: 600;
      transition: all 0.3s ease;
      border: 1px solid #00ffff;
      background: transparent;
      color: #00ffff;
      cursor: pointer;
    }
    button:hover {
      color: #33ffff;
      border-color: #33ffff;
      transform: translateY(-2px);
    }
    .input-group {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem;
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .input-group input {
      flex-grow: 1;
      margin-right: 0.5rem;
    }
    .remove-button { color: #ff0040; border-color: #ff0040; padding: 0.5rem 0.75rem; border-radius: 0.25rem; }
    .remove-button:hover { background: rgba(255, 0, 64, 0.1); box-shadow: 0 0 10px rgba(255, 0, 64, 0.5); }
    .submit-button { color: #00ff41; border-color: #00ff41; padding: 0.5rem 0.75rem; border-radius: 0.25rem; }
    .submit-button:hover { background: rgba(0, 255, 65, 0.1); box-shadow: 0 0 10px rgba(0, 255, 65, 0.5); }
    
    .add-email-button {
      background: linear-gradient(45deg, rgba(0, 255, 65, 0.2), rgba(0, 255, 255, 0.2));
      color: #00ff41;
      border: 2px solid #00ff41;
      padding: 0.75rem 1rem;
      border-radius: 15px;
      width: 100%;
      margin-bottom: 0.5rem;
    }
    .add-email-button:hover { box-shadow: 0 0 25px rgba(0, 255, 65, 0.8); }

    .pokezonan-button {
      background: linear-gradient(45deg, rgba(255, 0, 64, 0.3), rgba(0, 255, 255, 0.2));
      color: #ff0040;
      border: 2px solid #ff0040;
      padding: 0.5rem 1rem;
      border-radius: 10px;
      margin-left: 0.5rem;
    }
    .pokezonan-button:hover { box-shadow: 0 0 20px rgba(255, 0, 64, 0.8); }

    .toggle-button { padding: 0.75rem; border-radius: 10px; width: 100%; margin-top: 0.5rem; }
    .toggle-button.active { background: rgba(0, 255, 65, 0.2); color: #00ff41; border-color: #00ff41; }
    .toggle-button.inactive { color: #666666; border-color: #666666; }

    .start-button, .stop-button, .test-button { padding: 0.75rem; border-radius: 10px; width: 100%; margin-top: 0.5rem; }
    .start-button { color: #00ffff; border-color: #00ffff; }
    .start-button:hover { background: rgba(0, 255, 255, 0.2); box-shadow: 0 0 20px rgba(0, 255, 255, 0.8); }
    .stop-button { color: #ff0040; border-color: #ff0040; }
    .stop-button:hover { background: rgba(255, 0, 64, 0.2); box-shadow: 0 0 20px rgba(255, 0, 64, 0.8); }
    .test-button { color: #00ff41; border-color: #00ff41; }
    .test-button:hover { background: rgba(0, 255, 65, 0.2); box-shadow: 0 0 20px rgba(0, 255, 65, 0.8); }

    input[type="range"] { -webkit-appearance: none; width: 100%; height: 8px; background: rgba(0, 255, 255, 0.2); border-radius: 5px; outline: none; cursor: pointer; }
    input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; background: #00ffff; border-radius: 50%; cursor: pointer; box-shadow: 0 0 10px rgba(0, 255, 255, 0.8); }

    .status-feedback { color: #00ff41; font-size: 0.875rem; margin-top: 0.5rem; text-align: center; opacity: 0; transition: opacity 0.5s ease; text-shadow: 0 0 5px #00ff41; }
    .status-feedback.show { opacity: 1; }
    .status-neon-green { color: #00ff41; text-shadow: 0 0 10px #00ff41; }
    .status-neon-red { color: #ff0040; text-shadow: 0 0 10px #ff0040; }

    h1 { color: #00ffff; text-shadow: 0 0 15px #00ffff; font-weight: 900; letter-spacing: 2px; }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body class="bg-black flex items-center justify-center min-h-screen">
  <div class="tron-card p-6 rounded-lg shadow-neon w-full max-w-md">
    <h1 class="text-2xl font-bold text-center mb-2">Kronborg's Ultimate Pok√©mon Checker</h1>
    <p class="text-gray-600 text-center mb-2 text-sm">Checks to see if the shop is accessible.</p>

    <div id="emailInputsContainer" class="mb-2">
      <label class="block text-sm text-neon-cyan mb-1">Emails for alerts:</label>
      <div class="input-group">
        <input type="email" placeholder="name@example.com" class="w-full border-neon rounded px-3 py-2 email-input" required>
        <button type="button" class="submit-button email-submit-button">Submit</button>
      </div>
    </div>
    <button id="addEmailButton" class="add-email-button">Catch Another Email! ‚ú®</button>

    <div id="discordWebhookContainer" class="mb-2">
      <label class="block text-sm text-neon-cyan mb-1">Discord Webhook URL:</label>
      <div class="input-group">
        <input
          type="url"
          id="webhookUrlInput"
          placeholder="https://discord.com/api/webhooks/..."
          class="w-full border-neon rounded px-3 py-2"
          required
        >
        <button type="button" id="submitWebhookButton" class="submit-button">Add Webhook</button>
        <button id="addPokezonanButton" class="pokezonan-button" type="button">Add Pokezonan</button>
      </div>
    </div>

    <div id="emailFeedback" class="status-feedback"></div>

    <div class="mb-2">
      <label for="frequencySlider" class="block text-sm text-neon-cyan mb-1">
        Check every: <span id="frequencyValue" class="font-semibold text-white-glow">10</span> minutes
      </label>
      <input type="range" id="frequencySlider" min="1" max="60" value="10">
    </div>

    <div id="status" class="text-center mb-2">
      <p class="text-lg">Status: <span id="statusText" class="font-semibold status-neon-red">Waiting...</span></p>
      <p class="text-sm text-neon-cyan">Last checked: <span id="lastChecked">Never</span></p>
      <p class="text-sm text-neon-cyan">System running for: <span id="runTime">0h 0m 0s</span></p>
      <p class="text-sm text-neon-cyan">Details: <span id="statusDetails">None</span></p>
      <p id="warningMsg" class="text-xs text-neon-red hidden mt-1">‚ö†Ô∏è Keep tab active for best reliability!</p>
    </div>

    <button id="startButton" class="start-button">Start Checking</button>
    <button id="stopButton" class="stop-button hidden">Stop Checking</button>
    <button id="emailToggleButton" class="toggle-button active">Deactivate Email Alerts</button>
    <button id="discordToggleButton" class="toggle-button active">Deactivate Discord Alerts</button>
    <button id="testEmailButton" class="test-button">Test Alerts</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4.4.1/dist/email.min.js"></script>
  <script>
    // --- AUDIO (Embedded Base64 for Reliability) ---
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playBeep() {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        oscillator.type = 'square';
        oscillator.frequency.value = 880; // A5
        gainNode.gain.value = 0.1;
        oscillator.start();
        setTimeout(() => { oscillator.stop(); }, 200);
    }
    function playThreeBeeps() {
        playBeep();
        setTimeout(playBeep, 400);
        setTimeout(playBeep, 800);
    }

    if (typeof emailjs === 'undefined') {
      console.error('EmailJS failed to load.');
      alert('Email functionality is unavailable.');
    } else {
      emailjs.init({ publicKey: "8w7eu6mrg3lRl6ta3" });
    }

    // --- DOM Selectors ---
    const statusText = document.getElementById('statusText');
    const lastChecked = document.getElementById('lastChecked');
    const statusDetails = document.getElementById('statusDetails');
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');
    const testEmailButton = document.getElementById('testEmailButton');
    const emailToggleButton = document.getElementById('emailToggleButton');
    const discordToggleButton = document.getElementById('discordToggleButton');
    const webhookUrlInput = document.getElementById('webhookUrlInput');
    const submitWebhookButton = document.getElementById('submitWebhookButton');
    const addPokezonanButton = document.getElementById('addPokezonanButton');
    const runTime = document.getElementById('runTime');
    const emailInputsContainer = document.getElementById('emailInputsContainer');
    const addEmailButton = document.getElementById('addEmailButton');
    const emailFeedback = document.getElementById('emailFeedback');
    const frequencySlider = document.getElementById('frequencySlider');
    const frequencyValue = document.getElementById('frequencyValue');
    const warningMsg = document.getElementById('warningMsg');

    // --- Global Variables ---
    let intervalId = null;
    let startTime = null;
    let timerInterval = null;
    let currentCheckInterval = 10 * 60 * 1000;
    let emailNotificationsEnabled = true;
    let discordNotificationsEnabled = true;
    let discordWebhookUrl = null;

    // --- Utility Functions ---
    function showEmailFeedback(message) {
      emailFeedback.textContent = message;
      emailFeedback.classList.add('show');
      setTimeout(() => emailFeedback.classList.remove('show'), 2000);
    }

    function getRandomInterval(baseInterval) {
      // Add randomness to look less like a bot (+/- 30 seconds)
      const variation = Math.floor(Math.random() * 60000); 
      return baseInterval + variation;
    }

    function formatDuration(ms) {
      const seconds = Math.floor(ms / 1000);
      const hours = Math.floor(seconds / 3600);
      const minutes = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      return `${hours}h ${minutes}m ${secs}s`;
    }

    function updateRunTime() {
      if (startTime) {
        const now = Date.now();
        runTime.textContent = formatDuration(now - startTime);
      }
    }

    function startTimer() {
      if (!startTime) {
        startTime = Date.now();
        timerInterval = setInterval(updateRunTime, 1000);
      }
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
      startTime = null;
      runTime.textContent = '0h 0m 0s';
    }

    function extractQueueLength(text) {
      const match = text.match(/(\d+)\s*users?\s*ahead|queue\s*position\s*[:=]?\s*(\d+)/i);
      return match ? (match[1] || match[2]) : null;
    }

    // --- Notification Functions ---
    async function sendDiscordMessage(status, details) {
      if (!discordNotificationsEnabled || !discordWebhookUrl) return;
      
      const isAccessible = status.includes('accessible') || status.includes('active');
      const color = isAccessible ? 3066993 : 15158332; 
      
      const payload = {
        embeds: [{
          title: isAccessible ? `üî• POK√âMON SHOP UNLOCKED! üöÄ` : `‚ö†Ô∏è STATUS ALERT`,
          description: `**Status:** ${status}\n**Details:** ${details}`,
          color: color,
          thumbnail: { url: isAccessible ? 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png' : 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/132.png' },
          timestamp: new Date().toISOString(),
          footer: { text: 'Kronborg\'s Ultimate Pok√©mon Checker' }
        }]
      };
      
      try {
        await fetch(discordWebhookUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        
        if (isAccessible) {
            discordNotificationsEnabled = false;
            discordToggleButton.classList.replace('active', 'inactive');
            discordToggleButton.textContent = 'Activate Discord Alerts';
        }
      } catch (error) {
        console.error('Discord Error:', error);
      }
    }

    function sendEmail(status, details, recipientEmails) {
      if (!emailNotificationsEnabled || !recipientEmails.length) return;
      
      const coolDetails = `**üö® ULTIMATE ALERT! üö®**\n\nStatus: ${status}\n\n${details}`;
      
      recipientEmails.forEach(email => {
        emailjs.send("service_ahqdaj5", "template_whhvnra", {
          status: status,
          details: coolDetails,
          timestamp: new Date().toLocaleString(),
          to_email: email
        });
      });

      emailNotificationsEnabled = false;
      emailToggleButton.classList.replace('active', 'inactive');
      emailToggleButton.textContent = 'Activate Email Alerts';
      showEmailFeedback('üìß Alerts sent! Notifications paused.');
    }

    function testEmail() {
      const inputs = document.querySelectorAll('.email-input');
      const emails = Array.from(inputs).filter(i => i.hasAttribute('readonly')).map(i => i.value);
      
      if (!emails.length && !discordWebhookUrl) {
        alert('Add a valid email or webhook first!');
        return;
      }

      playThreeBeeps();
      
      if(emails.length && emailNotificationsEnabled) {
          sendEmail('üß™ Test Alert', 'System is functioning normally!', emails);
      }
      if(discordWebhookUrl && discordNotificationsEnabled) {
          sendDiscordMessage('üß™ Test Alert', 'System is functioning normally!');
      }
      alert('Test fired! Check your devices.');
    }

    // --- Core Logic ---
    async function checkShopAccess() {
      const emailInputs = document.querySelectorAll('.email-input');
      const currentEmails = Array.from(emailInputs)
        .filter(input => input.hasAttribute('readonly'))
        .map(input => input.value.trim());

      // Updated Checking Logic
      const targetUrl = 'https://www.pokemoncenter.com/category/trading-card-game';
      const cacheBuster = `?t=${Date.now()}`;
      const encodedUrl = encodeURIComponent(targetUrl + cacheBuster);

      const proxies = [
        `https://corsproxy.io/?${encodedUrl}`,
        `https://api.allorigins.win/raw?url=${encodedUrl}`
      ];

      let response = null;

      for (const proxyUrl of proxies) {
        try {
            const controller = new AbortController();
            const id = setTimeout(() => controller.abort(), 15000);
            
            response = await fetch(proxyUrl, { 
                method: 'GET',
                signal: controller.signal
            });
            clearTimeout(id);

            if (response.ok) break;
        } catch (e) {
            console.warn(`Proxy failed: ${proxyUrl}`);
        }
      }

      const now = new Date().toLocaleTimeString();
      lastChecked.textContent = now;

      if (!response || !response.ok) {
        statusText.textContent = 'Proxy/Network Error';
        statusText.className = 'font-semibold status-neon-red';
        statusDetails.textContent = 'Could not reach site via proxies. Will retry.';
        return; 
      }

      try {
          const text = await response.text();
          const finalUrl = response.url;

          const isQueue = /queue-it|waiting room/i.test(text) || /queue/i.test(finalUrl);
          const isShopLoaded = /Add to Cart|shopping_cart/i.test(text);
          const isAccessDenied = /Access Denied|Just a moment|Cloudflare/i.test(text);

          if (isQueue) {
              const qLen = extractQueueLength(text) || "Unknown";
              handleAlert("Queue Detected!", `In queue. Position: ${qLen}`, currentEmails);
          } else if (isShopLoaded) {
              handleAlert("Shop Accessible!", "Add to Cart buttons detected.", currentEmails);
          } else if (isAccessDenied) {
              statusText.textContent = "Bot Blocked";
              statusDetails.textContent = "PokemonCenter is blocking the proxy (Cloudflare).";
          } else {
              statusText.textContent = "Site Reachable (No Stock Detected)";
              statusText.className = 'font-semibold text-white-glow';
              statusDetails.textContent = `Checked. No queue, but no clear 'Add to Cart' buttons found. Size: ${text.length}`;
          }

      } catch (e) {
          console.error(e);
          statusText.textContent = "Parse Error";
      }
    }

    function handleAlert(status, details, emails) {
        const prevStatus = statusText.dataset.previousStatus;
        statusText.textContent = status;
        statusText.className = 'font-semibold status-neon-green';
        statusDetails.textContent = details;
        statusText.dataset.previousStatus = status;

        if (prevStatus !== status) {
            playThreeBeeps();
            sendEmail(status, details, emails);
            sendDiscordMessage(status, details);
        }
    }

    function startChecking() {
      const emails = document.querySelectorAll('.email-input[readonly]').length;
      const webhook = webhookUrlInput.hasAttribute('readonly');
      
      if (!emails && !webhook) {
        alert('Please add an Email or Webhook first!');
        return;
      }

      if (intervalId) clearTimeout(intervalId);
      
      function scheduleNext() {
        const mins = parseInt(frequencySlider.value);
        const base = mins * 60000;
        const nextDelay = getRandomInterval(base);
        
        intervalId = setTimeout(() => {
            checkShopAccess();
            scheduleNext();
        }, nextDelay);
      }

      checkShopAccess();
      scheduleNext();

      startButton.classList.add('hidden');
      stopButton.classList.remove('hidden');
      statusText.textContent = 'Active';
      startTimer();
    }
    
    function stopChecking() {
      if (intervalId) clearTimeout(intervalId);
      stopTimer();
      startButton.classList.remove('hidden');
      stopButton.classList.add('hidden');
      statusText.textContent = 'Stopped';
    }

    // --- Event Listeners ---
    document.addEventListener('visibilitychange', () => {
        if (document.hidden) warningMsg.classList.remove('hidden');
        else warningMsg.classList.add('hidden');
    });

    emailToggleButton.addEventListener('click', () => {
      emailNotificationsEnabled = !emailNotificationsEnabled;
      emailToggleButton.classList.toggle('active');
      emailToggleButton.classList.toggle('inactive');
      emailToggleButton.textContent = emailNotificationsEnabled ? 'Deactivate Email Alerts' : 'Activate Email Alerts';
    });

    discordToggleButton.addEventListener('click', () => {
      discordNotificationsEnabled = !discordNotificationsEnabled;
      discordToggleButton.classList.toggle('active');
      discordToggleButton.classList.toggle('inactive');
      discordToggleButton.textContent = discordNotificationsEnabled ? 'Deactivate Discord Alerts' : 'Activate Discord Alerts';
    });

    submitWebhookButton.addEventListener('click', () => {
      if (webhookUrlInput.hasAttribute('readonly')) {
          webhookUrlInput.removeAttribute('readonly');
          webhookUrlInput.value = '';
          discordWebhookUrl = null;
          submitWebhookButton.textContent = 'Add Webhook';
          submitWebhookButton.classList.replace('remove-button', 'submit-button');
      } else {
          if(!webhookUrlInput.value.includes('discord.com/api/webhooks')) {
              alert('Invalid Webhook URL'); return;
          }
          webhookUrlInput.setAttribute('readonly', true);
          discordWebhookUrl = webhookUrlInput.value;
          submitWebhookButton.textContent = 'Remove';
          submitWebhookButton.classList.replace('submit-button', 'remove-button');
      }
    });

    // --- POKEZONAN BUTTON LOGIC (Updated) ---
    addPokezonanButton.addEventListener('click', () => {
        const pokezonanUrl = "https://discord.com/api/webhooks/1418654823745716436/vuMKu1s095Cq3BfU06OF_Z_mwxG39zHppHJ3c4BX5X38WuJFWPGhIZdopWTEEXlophiN";
        
        discordWebhookUrl = pokezonanUrl;
        
        // Update UI to show it's loaded (masked for cleanliness)
        webhookUrlInput.value = "Pokezonan Webhook Loaded üîí";
        webhookUrlInput.setAttribute('readonly', true);
        
        // Change the add button to remove
        submitWebhookButton.textContent = 'Remove';
        submitWebhookButton.classList.replace('submit-button', 'remove-button');
        
        showEmailFeedback('Pokezonan Webhook Connected! üéÆ');
    });

    // Initial Setup for Email inputs
    function setupEmailButton(btn) {
        btn.addEventListener('click', (e) => {
            const input = e.target.previousElementSibling;
            if(input.value.includes('@')) {
                input.setAttribute('readonly', true);
                e.target.textContent = 'Remove';
                e.target.className = 'remove-button';
                e.target.onclick = () => e.target.parentElement.remove();
            } else {
                alert('Invalid Email');
            }
        });
    }

    addEmailButton.addEventListener('click', () => {
        const div = document.createElement('div');
        div.className = 'input-group';
        div.innerHTML = `<input type="email" placeholder="name@example.com" class="w-full border-neon rounded px-3 py-2 email-input"><button type="button" class="submit-button email-submit-button">Submit</button>`;
        emailInputsContainer.appendChild(div);
        setupEmailButton(div.querySelector('button'));
    });
    
    setupEmailButton(document.querySelector('.email-submit-button'));

    frequencySlider.addEventListener('input', function() {
      frequencyValue.textContent = this.value;
    });

    startButton.addEventListener('click', startChecking);
    stopButton.addEventListener('click', stopChecking);
    testEmailButton.addEventListener('click', testEmail);
  </script>
</body>
</html>
