<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KRONBORG: ETHEREAL GLASS v9.0</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Orbitron:wght@500;700&display=swap');

    :root {
      --bg-dark: #050508;
      --neon-cyan: #00fff2;
      --neon-pink: #ff00d4;
      --neon-violet: #bc00ff;
      --glass-bg: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.1);
      --text-bright: #ffffff;
      --text-dim: #a1a1b5;
    }

    * { box-sizing: border-box; outline: none; }

    body {
      margin: 0;
      font-family: 'Outfit', sans-serif;
      background-color: var(--bg-dark);
      /* Soft ambient background blobs */
      background-image: 
        radial-gradient(circle at 20% 30%, rgba(188, 0, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(0, 255, 242, 0.15) 0%, transparent 50%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 30px;
      color: var(--text-bright);
      overflow-x: hidden;
    }
    
    /* Subtle background animation */
    body::before {
        content: ''; position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
        background: radial-gradient(circle, transparent 20%, var(--bg-dark) 70%), 
                    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='a'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.005' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23a)' opacity='0.05'/%3E%3C/svg%3E");
        opacity: 0.2; z-index: -1; animation: drift 60s linear infinite;
    }
    @keyframes drift { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }


    /* --- MAIN GLASS CHASSIS --- */
    .glass-container {
      width: 100%;
      max-width: 600px;
      /* The Glass Effect */
      background: var(--glass-bg);
      backdrop-filter: blur(25px) saturate(150%);
      -webkit-backdrop-filter: blur(25px) saturate(150%);
      border: 1px solid var(--glass-border);
      border-radius: 35px; /* Super soft corners */
      box-shadow: 
        0 20px 50px rgba(0,0,0,0.5), /* Deep Shadow */
        0 0 60px rgba(0, 255, 242, 0.1), /* Soft Cyan Glow */
        inset 0 0 20px rgba(255, 255, 255, 0.02); /* Inner gloss */
      padding: 30px;
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    /* HEADER */
    .header {
      display: flex; justify-content: space-between; align-items: center;
    }
    .title-block h1 {
      font-family: 'Orbitron'; font-size: 26px; margin: 0;
      background: linear-gradient(45deg, var(--neon-cyan), #fff);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 0 8px rgba(0, 255, 242, 0.5));
    }
    .title-block span { font-size: 12px; color: var(--text-dim); letter-spacing: 2px; }

    .cubone-orb {
      width: 55px; height: 55px;
      background: rgba(0,0,0,0.3) url('https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/104.png') no-repeat center/cover;
      border-radius: 50%;
      border: 2px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 0 20px rgba(188, 0, 255, 0.2);
      opacity: 0.9;
    }

    /* RADAR SECTION */
    .radar-portal {
      display: flex; align-items: center; gap: 25px;
      padding: 20px;
      background: rgba(0,0,0,0.2); border-radius: 30px;
    }
    .radar-ring {
        width: 90px; height: 90px;
        border-radius: 50%;
        border: 3px solid rgba(255, 255, 255, 0.05);
        display: flex; justify-content: center; align-items: center;
        position: relative; transition: 0.3s;
        box-shadow: inset 0 0 30px rgba(0,0,0,0.3);
    }
    .radar-ring.active {
        border-color: var(--neon-cyan);
        box-shadow: 0 0 30px var(--neon-cyan), inset 0 0 20px var(--neon-cyan);
        animation: pulseRing 2s infinite;
    }
    @keyframes pulseRing { 0% { box-shadow: 0 0 20px var(--neon-cyan); } 50% { box-shadow: 0 0 50px var(--neon-cyan); } 100% { box-shadow: 0 0 20px var(--neon-cyan); } }

    .magikarp { width: 65px; height: 65px; background: url('https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/129.png') no-repeat center/cover; image-rendering: pixelated; z-index: 2; }
    .radar-ring.active .magikarp { animation: float 1s ease-in-out infinite alternate; }
    @keyframes float { 0% { transform: translateY(0px) rotate(0deg); } 100% { transform: translateY(-5px) rotate(5deg); } }

    .status-block h2 { margin: 0; font-size: 14px; color: var(--text-dim); }
    .status-val { font-family: 'Orbitron'; font-size: 22px; color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.2); }
    .timer { font-family: monospace; color: var(--neon-cyan); opacity: 0; transition: 0.3s; }

    /* --- SECTIONS & INPUTS --- */
    .glass-section {
      background: rgba(255, 255, 255, 0.02);
      border-radius: 25px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }
    .sec-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-weight: 500; letter-spacing: 1px; color: #fff; }

    /* Capsule Inputs */
    .input-capsule {
      display: flex; align-items: center;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 50px; /* Pill shape */
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 5px 10px 5px 20px;
      margin-bottom: 8px;
      transition: 0.3s;
    }
    .input-capsule:focus-within {
      border-color: var(--neon-cyan);
      box-shadow: 0 0 20px rgba(0, 255, 242, 0.2);
      background: rgba(0, 0, 0, 0.3);
    }
    .cap-icon { margin-right: 10px; color: var(--text-dim); font-size: 14px; }
    input[type="text"] {
      flex: 1; background: none; border: none; color: #fff; font-family: 'Outfit'; font-size: 14px;
    }
    .btn-x {
      width: 30px; height: 30px; border-radius: 50%; border: none; background: rgba(255, 255, 255, 0.05); color: #fff; cursor: pointer; transition: 0.2s; display: flex; justify-content: center; align-items: center;
    }
    .btn-x:hover { background: var(--neon-pink); box-shadow: 0 0 10px var(--neon-pink); }

    .btn-add-txt { background: none; border: none; color: var(--text-dim); cursor: pointer; font-size: 13px; margin-top: 5px; display: block; width: 100%; text-align: left; transition:0.2s;}
    .btn-add-txt:hover { color: var(--neon-cyan); }

    /* Soft Toggles */
    .soft-toggle {
      appearance: none; width: 44px; height: 24px; background: rgba(0,0,0,0.3); border-radius: 20px; position: relative; cursor: pointer; border: 1px solid rgba(255,255,255,0.1); transition:0.3s;
    }
    .soft-toggle::after {
      content:''; position: absolute; top: 3px; left: 3px; width: 16px; height: 16px; background: #fff; border-radius: 50%; transition: 0.3s; box-shadow: 0 0 5px rgba(255,255,255,0.5);
    }
    .soft-toggle:checked { background: var(--neon-cyan); border-color: var(--neon-cyan); box-shadow: 0 0 15px var(--neon-cyan); }
    .soft-toggle:checked::after { transform: translateX(20px); }

    /* Slider */
    input[type=range] { width: 100%; height: 6px; border-radius: 10px; background: rgba(0,0,0,0.3); accent-color: var(--neon-violet); }

    /* --- BUTTONS --- */
    .hero-btn {
      width: 100%; padding: 18px;
      border-radius: 50px; /* Pill */
      border: none;
      font-family: 'Orbitron'; font-size: 18px; font-weight: 700; letter-spacing: 2px; color: #000;
      background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
      box-shadow: 0 0 30px rgba(0, 255, 242, 0.3);
      cursor: pointer; transition: 0.3s;
    }
    .hero-btn:hover { transform: scale(1.02); box-shadow: 0 0 50px rgba(0, 255, 242, 0.5); }
    
    .hero-btn.stop {
      background: linear-gradient(90deg, var(--neon-pink), #ff5e00); color: #fff; display: none;
      box-shadow: 0 0 30px rgba(255, 0, 212, 0.3);
    }
    .hero-btn.stop:hover { box-shadow: 0 0 50px rgba(255, 0, 212, 0.5); }

    /* LOG */
    .glass-log {
      height: 120px; background: rgba(0,0,0,0.2); border-radius: 20px; padding: 15px; overflow-y: auto; font-family: monospace; font-size: 12px; display: flex; flex-direction: column-reverse; border: 1px solid rgba(255,255,255,0.05);
    }
    .log-item { margin-bottom: 4px; }
    .l-time { color: var(--text-dim); margin-right: 8px; }
    .l-yay { color: var(--neon-cyan); } .l-nay { color: var(--neon-pink); } .l-meh { color: #fff; }

  </style>
</head>
<body>

  <div class="glass-container">
    
    <div class="header">
      <div class="title-block">
        <h1>KRONBORG</h1>
        <span>ETHEREAL GLASS PROTOCOL v9.0</span>
      </div>
      <div class="cubone-orb" title="Guardian"></div>
    </div>

    <div class="radar-portal">
      <div class="radar-ring" id="radar">
        <div class="magikarp"></div>
      </div>
      <div class="status-block">
        <h2>SYSTEM STATUS</h2>
        <div class="status-val" id="statusVal">RESTING</div>
        <div class="timer" id="timer">T+ 00:00:00</div>
      </div>
    </div>

    <div class="glass-section">
      <div class="sec-head">
        <span>Email Alerts</span>
        <input type="checkbox" class="soft-toggle" id="emailToggle" checked>
      </div>
      <div id="emailList"></div>
      <button class="btn-add-txt" onclick="addEmail()">+ Add Recipient</button>
    </div>

    <div class="glass-section">
      <div class="sec-head">
        <span>Discord Webhooks</span>
        <input type="checkbox" class="soft-toggle" id="discordToggle" checked>
      </div>
      <div id="discordList"></div>
      <div style="display: flex; justify-content: space-between; margin-top: 5px;">
        <button class="btn-add-txt" onclick="addDiscord()">+ Add Webhook</button>
        <button class="btn-add-txt" style="color:var(--neon-violet); text-align:right;" onclick="addPokezonan()">âš¡ Load Preset</button>
      </div>
    </div>

    <div class="glass-section" style="padding: 15px 25px;">
      <div class="sec-head" style="margin-bottom: 10px;">
        <span>Scan Interval</span>
        <span style="color:var(--neon-cyan); font-family:'Orbitron'" id="freqVal">10m</span>
      </div>
      <input type="range" id="freqSlider" min="1" max="60" value="10" oninput="updFreq(this.value)">
      <div style="text-align: center; font-size: 11px; color: var(--text-dim); margin-top: 8px;">Stealth Jitter Active (Â±60s randomization)</div>
    </div>

    <button id="btnStart" class="hero-btn" onclick="toggleSys(true)">INITIALIZE</button>
    <button id="btnStop" class="hero-btn stop" onclick="toggleSys(false)">TERMINATE</button>

    <div class="glass-log" id="log">
        <div class="log-item"><span class="l-time">--:--</span>Ready.</div>
    </div>

    <div style="text-align: center;">
       <button style="background:none; border:none; color:var(--text-dim); font-size:11px; cursor:pointer; text-decoration:underline" onclick="test()">Run Test Notification</button>
    </div>

  </div>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4.4.1/dist/email.min.js"></script>
<script>
    const CFG = { t: "https://www.pokemoncenter.com/category/trading-card-game", k: "8w7eu6mrg3lRl6ta3" };
    let run=false, tRef=null, cRef=null, sTs=0;
    if(window.emailjs) emailjs.init({publicKey:CFG.k});

    window.onload=()=>{ load(); if(!getId('emailList').children.length)addEmail(); if(!getId('discordList').children.length)addDiscord(); };
    function getId(id){return document.getElementById(id);}
    function updFreq(v){ getId('freqVal').innerText=v+"m"; save(); }

    function mkCap(v,i,p,t){
        const d=document.createElement('div'); d.className='input-capsule';
        d.innerHTML=`<span class="cap-icon">${i}</span><input type="${t}" value="${v}" placeholder="${p}" onchange="save()"><button class="btn-x" onclick="this.parentElement.remove();save()">Ã—</button>`;
        return d;
    }
    function addEmail(v=''){ getId('emailList').appendChild(mkCap(v,'@','email...', 'email')); }
    function addDiscord(v=''){ getId('discordList').appendChild(mkCap(v,'#','url...', 'url')); }
    function addPokezonan(){ addDiscord("https://discord.com/api/webhooks/1418654823745716436/vuMKu1s095Cq3BfU06OF_Z_mwxG39zHppHJ3c4BX5X38WuJFWPGhIZdopWTEEXlophiN"); save(); }

    function log(m,c='l-meh'){
        const l=getId('log'), i=document.createElement('div'); i.className='log-item';
        i.innerHTML=`<span class="l-time">${new Date().toLocaleTimeString([],{hour12:false})}</span><span class="${c}">${m}</span>`; l.insertBefore(i,l.firstChild);
    }
    function save(){
        const d={
            es:Array.from(getId('emailList').querySelectorAll('input')).map(i=>i.value),
            ws:Array.from(getId('discordList').querySelectorAll('input')).map(i=>i.value),
            eo:getId('emailToggle').checked, do:getId('discordToggle').checked, fr:getId('freqSlider').value
        }; localStorage.setItem('k9_cfg',JSON.stringify(d));
    }
    function load(){
        const d=JSON.parse(localStorage.getItem('k9_cfg')); if(!d)return;
        d.es.forEach(e=>addEmail(e)); d.ws.forEach(w=>addDiscord(w));
        getId('emailToggle').checked=d.eo; getId('discordToggle').checked=d.do;
        getId('freqSlider').value=d.fr; updFreq(d.fr);
    }

    function toggleSys(on){
        run=on; const bs=getId('btnStart'), bp=getId('btnStop'), rd=getId('radar'), sv=getId('statusVal'), tm=getId('timer');
        if(on){
            bs.style.display='none'; bp.style.display='block'; rd.classList.add('active');
            sv.innerText="SCANNING"; sv.style.color="var(--neon-cyan)"; sv.style.textShadow="0 0 15px var(--neon-cyan)"; tm.style.opacity=1;
            sTs=Date.now(); cRef=setInterval(()=>{tm.innerText="T+ "+new Date(Date.now()-sTs).toISOString().substr(11,8)},1000);
            log("System Initialized. Stealth active.", "l-yay"); loop();
        }else{
            bs.style.display='block'; bp.style.display='none'; rd.classList.remove('active');
            sv.innerText="RESTING"; sv.style.color="#fff"; sv.style.textShadow="none"; tm.style.opacity=0;
            clearTimeout(tRef); clearInterval(cRef); log("System Halted.", "l-nay");
        }
    }

    async function loop(){
        if(!run)return; log("Pinging target...");
        const ts=Date.now(), enc=encodeURIComponent(CFG.t+`?x=${ts}`);
        const pxs=[`https://api.allorigins.win/raw?url=${enc}`,`https://corsproxy.io/?${enc}`];
        let h="", u="";
        for(const p of pxs){ try{ const c=new AbortController(); setTimeout(()=>c.abort(),15000); const r=await fetch(p,{signal:c.signal}); if(r.ok){ h=(await r.text()).toLowerCase(); u=r.url; break; }}catch(e){} }
        if(!h) log("Connection failed.", "l-nay"); else analyze(h,u);
        const m=parseInt(getId('freqSlider').value), nxt=(m*60000)+Math.floor(Math.random()*60000);
        log(`Next scan in ${Math.floor(nxt/1000)}s`, "l-meh"); tRef=setTimeout(loop,nxt);
    }

    function analyze(h,u){
        if(u.includes("queue-it")||h.includes("users in line")){ log("QUEUE DETECTED!", "l-nay"); notify("QUEUE ALERT", "You are in a queue!", "red"); beep(); }
        else if(h.includes("add to cart")||h.includes("trading card game")){ log("Shop Accessible.", "l-yay"); /*notify("DROP LIVE","Shop open","green");*/ }
        else if(h.includes("cloudflare")){ log("WAF Soft-Block. Skipping.", "l-meh"); }
        else{ log("No queue detected.", "l-meh"); }
    }

    function notify(t,m,c){
        if(getId('discordToggle').checked){
            const cl=c==='red'?15548997:5763719;
            Array.from(getId('discordList').querySelectorAll('input')).map(i=>i.value).filter(v=>v.includes('http'))
            .forEach(u=>fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({embeds:[{title:`ðŸš¨ ${t}`,description:m,color:cl}]})}).catch(()=>{}));
        }
        if(getId('emailToggle').checked){
            Array.from(getId('emailList').querySelectorAll('input')).map(i=>i.value).filter(v=>v.includes('@'))
            .forEach(e=>emailjs.send("service_ahqdaj5","template_whhvnra",{status:t,details:m,to_email:e}));
        }
    }
    function test(){ notify("TEST", "Notifications functional.", "green"); log("Test sent.", "l-yay"); beep(); }
    const ac=new(window.AudioContext||window.webkitAudioContext)();
    function beep(){ if(ac.state==='suspended')ac.resume(); const o=ac.createOscillator(),g=ac.createGain(); o.connect(g); g.connect(ac.destination); o.type='square';o.frequency.value=600;g.gain.value=0.1; o.start();o.stop(ac.currentTime+0.2); }
</script>
</body>
</html>
